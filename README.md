设计文档

读入模块
Z -> a|Xgg|Y
会分解为
Z -> a
Z -> Xgg
Z -> Y

### 文法（production）存储结构

left左部编号
right右部数组


### 所有的文法左部（冗余段） 


#### 文法的索引 ：实际上用不上

{文法左部，整体编号}
整体编号：对单个文法整体的编号

#### NullAble空集合的计算
一个集合，如果在这个集合中的左部，不可以为空，是否可以为空

####  fist集合结构

二维表
纵索引-文法整体的编号
横索引-无，直接存放first集合本身

#### follow集合结构

二维表
纵索引-文法整体的编号
横索引-无，直接存放follow集合本身



#### 分割后的文法索引表--二级索引表
一级，文法left
二级，文法右部
结果-顺序编号i
直接存放分割后的文法右部的索引

#### first_s集合

计算first_s的集合需要计算follow和frist
由分割后的文法编号分类，然后由两类集合推演而来


### LR1的DFA的构造
![image-20240603133256303](README.assets/image-20240603133256303.png)



### 获取任意的select集合
/**
 * betas：文法右部分（分割后）
 * pos，当前走到右部的位置
 * a，移进到当前文法的的文法的first集合
 * left，文法左部
 */
如果β中的所有元素可以为空，那么加入a集合，如果没有，那就是直接返回

### LR1的DFA存储


DFA表项是int编号
DFA表项的内容：
int 编号
vector的块数据的数据类型
一块含有的信息
int，文法的指针，指向productions的一个int位置
pos，当前走到该文法的那个位置
select，集合存放下一个可能位的符号集合，


#### DFA表项的索引是DFA表项的编号
需要建立访问的索引

#### DFA图的存储，二级索引广义表
第一个索引，DFA表项的编号
第二个索引，string，下一个字符串，走哪一个字符
索引结果：下一个DFA的编号


#### DFA表项的建立
读入开始文法，开始文法的下一个文法如果是非终结符，一会要对该终结符展开判断
然后建立当前文法的select集合，开始的时候，S'的select集合计算的时候，βa中，a是空的，表项中开始的第一个块，他的select继承移进产生他的select




